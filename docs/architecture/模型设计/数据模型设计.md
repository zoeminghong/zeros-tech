# 数据模型设计

先从最抽象或者说最理想的情况下设计，之后，在根据业务边界情况，做降维的处理。

在设计前先搞清楚变量有哪些，例如我设计的数据权限中，库表、权限规则、赋权对象三者是最抽象的变量，先把这三者之间的关系搞清楚，再去细化各自内部的变量的关系。库表内部可以分库信息、表信息、字段信息；权限规则可以分表级权限、字段级权限、行级权限等等。

## 问题与方案

**❓何时在同一表，何时需要进行分拆？**

一张表不可有两意，只能有一个目的。设计初期，不要被业务左右，应该更多的从描述客观世界出发，会更加的通用和纯粹，同时也就建立起了基本的框架，之后再根据业务进行丰富化，这个时候，可以考虑多张表的方式避免业务的耦合性污染前面说到的比较通用性的表。

每个字段都要能说出其存在的价值是什么，如果有其他字段可以实现其功能，则这个字段直观来说是没有意义的，有冗余的嫌疑。

数据的更新时间不一致时，可应该考虑是否需要分拆。更新时间不相同，其实是一个需要注意分拆的信号，还是以数据权限为例，权限规则如何与字段进行关联？是直接使用字段名称呢？还是使用引用的方式？我会选择引用方式，原因是表结构时常会发生更新，权限规则也会发生更新，但这两者出发更新的时间节点是不一样的，如果在同一张表中，表结构发生变更，需要更新很多的记录。