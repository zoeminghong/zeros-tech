事实表和维表

**多维模型的缺点就是与关系模型相比其灵活性不够，一旦模型构建就很难进行更改。**比如一个订单的事实，其中用户可能购买了多种商品，包括了时间、用户维和商品数量、总价等度量，对于关系模型而言如果我们进而需要区分订单中包含了哪些商品，我们只需要另外再建一张表记录订单号和商品的对应关系即可，但在多维模型里面一旦事实表构建起来后，我们无法将事实表中的一条订单记录再进行拆分，于是无法建立以一个新的维度——产品维，只能另外再建个以产品为主题的事实表。

或者将维度数据冗余到事实表中（适合少了字段和低数据量的维度表）、多对多的场景可以多列方式（但确定上限）

事实与维度

**Mandatory**  必要维度，总是出现的维度。指的是那些总是会出现在Where条件或Group By语句里的维度；通过将某个维度指定为Mandatory，此聚合组产生的所有Cuboid中每一个Cuboid都会包含该维度，Kylin就可以不用预计算那些不包含此维度的Cuboid，从而减少计算量。

**Hierarchy**  层级维度，例如 “国家” -> “省” -> “市” 是一个层级；不符合此层级关系的 cuboid 可以被跳过计算，例如 [“省”], [“市”]. 定义层级维度时，将父级别维度放在子维度的左边。通过指定Hierarchy，Kylin可以省略不满足此模式的Cuboid。假设一个层级中包含D1，D2…Dn这n个维度，那么在该分组产生的任何Cuboid中，这n个维度只会以（），（D1），（D1，D2）…（D1，D2…Dn）这n+1种形式中的一种出现。

**Joint** 联合维度，其通常适用于如下两种情形。总是会在一起查询的维度，基数非常接近（有1:1映射关系）。如果某些列形成一个联合，那么在该分组产生的任何Cuboid中，这些联合维度要么一起出现，要么都不出现。

