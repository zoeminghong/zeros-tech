[LockSupportï¼ˆpark/unparkï¼‰æºç åˆ†æ - ç®€ä¹¦](https://www.jianshu.com/p/e3afe8ab8364)

ğŸ¤”æ–¹å‘ç‚¹ï¼š

	1. park ä¸ unpark åŠŸèƒ½ç‚¹
	2. park / unpark ä¸ wait / notify åŒºåˆ«ç‚¹
	3. å¦‚ä½•å®ç°æŒ‚èµ·

### park ä¸ unpark

Parkç”¨äºçº¿ç¨‹çš„é˜»å¡æŒ‚èµ·ï¼Œunparkç”¨äºå”¤é†’æŒ‡å®šçš„çº¿ç¨‹ã€‚

	* parkå‡½æ•°æ˜¯å°†å½“å‰è°ƒç”¨Threadé˜»å¡ï¼Œè€Œunparkå‡½æ•°åˆ™æ˜¯å°†æŒ‡å®šçº¿ç¨‹Threadå”¤é†’ã€‚
	* å¯ä»¥æŒ‡å®šç­‰å¾…æ—¶é—´ï¼Œ`parkNanos()`æ–¹æ³•

Linux ç³»ç»Ÿä¸‹ï¼Œparkä¸unpark æ˜¯é€šè¿‡ Posixçº¿ç¨‹åº“pthreadä¸­çš„mutexï¼ˆäº’æ–¥é‡ï¼‰ï¼Œconditionï¼ˆæ¡ä»¶å˜é‡ï¼‰æ¥å®ç°çš„ï¼Œmutexä¸ condition å…±åŒç»´æŠ¤ä¸€ä¸ª_counterçš„å˜é‡ï¼Œè°ƒç”¨ park æ—¶ï¼Œ_counterè®¾ç½®ä¸º0ï¼Œè°ƒç”¨ unparkæ—¶ï¼Œ_counterè®¾ç½®ä¸º1ã€‚

### park / unpark ä¸ wait / notify åŒºåˆ«ç‚¹

	* ä»¥threadä¸ºæ“ä½œå¯¹è±¡æ›´ç¬¦åˆé˜»å¡çº¿ç¨‹çš„ç›´è§‚å®šä¹‰
	* æ“ä½œæ›´ç²¾å‡†ï¼Œå¯ä»¥å‡†ç¡®åœ°å”¤é†’æŸä¸€ä¸ªçº¿ç¨‹ï¼ˆnotifyéšæœºå”¤é†’ä¸€ä¸ªçº¿ç¨‹ï¼ŒnotifyAllå”¤é†’æ‰€æœ‰ç­‰å¾…çš„çº¿ç¨‹ï¼‰ï¼Œå¢åŠ äº†çµæ´»æ€§ï¼›
	* unparkæ“ä½œå¯ä»¥åœ¨parkæ“ä½œä¹‹å‰